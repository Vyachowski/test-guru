<%= link_to t("common.back"), tests_path, class: "btn btn-secondary mb-2" %>

<h1 class="mb-4"><%= t("badges.index.header") %></h1>

<div class="row g-3">
  <% @user_badges.each do |badge| %>
    <div class="col-6 col-md-4 col-lg-3">
      <div class="card text-center h-100 border-0 position-relative">
        <% if badge.image_url.present? %>
          <div class="d-flex align-items-center justify-content-center mx-auto"
               style="width: 80px; height: 80px; border-radius: 50%; overflow: hidden; border: 2px solid #dee2e6;">
            <img src="<%= badge.image_url %>" alt="<%= badge.name %>" style="width: 70%; height: 70%; object-fit: cover;">
          </div>
        <% end %>
        <div class="card-body p-2">
          <h6 class="card-title mb-0"><%= badge.name %></h6>
        </div>
      </div>
    </div>
  <% end %>

  <% (@available_badges - @user_badges.uniq).each do |badge| %>
    <div class="col-6 col-md-4 col-lg-3">
      <div class="card text-center h-100 border-0 position-relative">
        <% if badge.image_url.present? %>
          <div class="d-flex align-items-center justify-content-center mx-auto"
               style="width: 80px; height: 80px; border-radius: 50%; overflow: hidden; border: 2px solid #dee2e6; filter: grayscale(100%); opacity: 0.5;">
            <img src="<%= badge.image_url %>" alt="<%= badge.name %>" style="width: 70%; height: 70%; object-fit: cover;">
          </div>
        <% end %>
        <div class="card-body p-2">
          <h6 class="card-title mb-0" style="color: #6c757d;"><%= badge.name %></h6>
        </div>
      </div>
    </div>
  <% end %>
</div>
